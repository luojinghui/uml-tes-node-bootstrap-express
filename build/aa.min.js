/*! uml 2016-05-06 */

function FormValueGetter(){this.NamesAndValues=[]}var judge=function(){""===document.getElementById("xingming").value?(alert("请输入姓名"),event.preventDefault()):""===document.getElementById("banji").value?(alert("请输入班级"),event.preventDefault()):""===document.getElementById("xuehao").value&&(alert("请输入学号"),event.preventDefault())};$("#submit").on("click",function(){window.scroll(0,0),judge(),$.post("/sum_score",$("form").serialize(),function(score){$("#sub_score").prop("value",score)})}),$("#backtop").on("click",function(){window.scroll(30,20)});var addAloneSelectListener=function(name){$(":input").each(function(){this.name===name&&$(this).on("click",function(){$("#"+name).prop("value",this.value)})})},addListenerSelects=function(name){_.forEach(document.getElementsByName(name),function(element){element.addEventListener("click",function(){var str="";$(":input").each(function(){this.name===name&&(str+=this.checked?this.value:"")}),$("#"+name).prop("value",str)})})},listener=function(){addAloneSelectListener("one_select_1"),addAloneSelectListener("one_select_2"),addListenerSelects("check_box1"),addListenerSelects("check_box2")};listener();var getTextValue=function(name){var array=[];return[].forEach.call(document.getElementsByName(name),function(val){array.push(val.value)}),array},getSelectValue=function(name){var array=[];return[].forEach.call(document.getElementsByName(name),function(val){val.checked&&array.push(val.value)}),array},getTextAreaValue=function(name){var array=[];return[].forEach.call(document.getElementsByName(name),function(val){array.push(val.value)}),array},getNameAndValue=function(name){var ValueAndName={},dgn=document.getElementsByName(name);return"text"===dgn[0].type&&(ValueAndName={name:name,value:getTextValue(name)}),"radio"!==dgn[0].type&&"checkbox"!==dgn[0].type||(ValueAndName={name:name,value:getSelectValue(name)}),"textarea"===dgn[0].type&&(ValueAndName={name:name,value:getTextAreaValue(name)}),ValueAndName},getNames=function(form){var names=[];return[].forEach.call(document.querySelector(form),function(val){""!==val.name&&names.push(val.name)}),names=_.chain(names).groupBy(function(val){return val}).map(function(val,key){return key}).value()};FormValueGetter.prototype.GetValues=function(form){var names=getNames(form);NamesAndValues=this.NamesAndValues,names.forEach(function(val){NamesAndValues.push(getNameAndValue(val))})};
//# sourceMappingURL=aa.min.js.map